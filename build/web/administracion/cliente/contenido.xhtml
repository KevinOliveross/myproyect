<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:html5="http://xmlns.jcp.org/jsf/passthrough" lang="es"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <ui:composition>







        <div class="page-header">
            <h3 class="page-title">
                <span class="page-title-icon bg-gradient-primary text-white mr-2">
                    <i class="mdi mdi-home"></i>
                </span> Manage Clients</h3>
            <nav aria-label="breadcrumb">
                <ul class="breadcrumb">
                    <li class="breadcrumb-item active" aria-current="page">
                        <span></span>Overview <i class="mdi mdi-alert-circle-outline icon-sm text-primary align-middle"></i>
                    </li>
                </ul>
            </nav>
        </div>
        <div class="row">
            <div class="col-12 grid-margin">
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title">Delete Client</h4>
                        <div class="table-responsive">
                            <h:form>
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th> ID </th>
                                            <th> Nombre </th>
                                            <th> Apellido</th>
                                            <th> Edad </th>
                                            <th> Telefono </th>
                                            
                                            <th> Eps </th>
                                            <th> Fecha de Nacimiento </th>
                                            <th> Rh </th>
                                            <th> Nombre Acudiente </th>
                                            <th> Telefono Acudiente </th>
                                            <th> Contraseña </th>
                                            <th> Accion </th>

                                        </tr>
                                    </thead>
                                    <tbody>
                                        <c:forEach items="#{registrousu.tablaUser}" var="objUsers">

                                            <tr>
                                                <td>#{objUsers.id}</td>
                                                <td> #{objUsers.nombre} </td>
                                                <td>#{objUsers.apellido}</td><td>#{objUsers.edad}</td>
                                                <td>#{objUsers.telefono}</td>
                                                <td>#{objUsers.eps}</td>
                                                <td>#{objUsers.fechaNacimiento}</td>
                                                <td>#{objUsers.rh}</td>
                                                <td>#{objUsers.nombreAcudiente}</td>
                                                <td>#{objUsers.telefonoAcudiente}</td>
                                                <td>#{objUsers.contrasenia}</td>
                                                <td> 

                                                    <h:commandButton action="#{registrousu.eliminarUser(objUsers)}" value="Delete" class="btn btn-danger"></h:commandButton>

                                                </td>

                                            </tr>

                                        </c:forEach>

                                    </tbody>
                                </table>
                            </h:form> 

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-12 grid-margin">
                <div class="card">
                    <div class="card-body">
                        <c:if test="#{registrousu.tipoMensajeReg.equals('noActualizadoU')}">  

                            <div class="container-fluid d-flex justify-content-center" style=" margin-bottom: 20px; margin-top: 50px;">
                                <div class="alert alert-danger alert-dismissible fade show" role="alert" style="border: 3px solid black;">
                                    <strong>ERROR!</strong>
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                            </div>
                        </c:if>


            <c:if test="#{registrousu.tipoMensajeReg.equals('ActualizadoU')}">  
                            <div class="container-fluid d-flex justify-content-center" style=" margin-bottom: 20px; margin-top: 50px;">


                                <div class="alert alert-success alert-dismissible fade show" role="alert" style="border: 3px solid black;">
                                    <strong>Update!</strong>
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>

                            </div>
                        </c:if>
                        <h4 class="card-title">Modify Client</h4>
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                         <th> ID </th>
                                            <th> Nombre </th>
                                            <th> Apellido</th>
                                            <th> Edad </th>
                                            <th> Telefono </th>
                                            
                                            <th> Eps </th>
                                            <th> Fecha de Nacimiento </th>
                                            <th> Rh </th>
                                            <th> Nombre Acudiente </th>
                                            <th> Telefono Acudiente </th>
                                            <th> Contraseña </th>
                                             <th> Accion </th>
                                    </tr>
                                </thead>

                                <tbody>

                                    <c:forEach items="#{registrousu.tablaUser}" var="objUsers">

                                        <tr>
                                            <td>#{objUsers.id}</td>
                                                <td> #{objUsers.nombre} </td>
                                                <td>#{objUsers.apellido}</td><td>#{objUsers.edad}</td>
                                                <td>#{objUsers.telefono}</td>
                                                <td>#{objUsers.eps}</td>
                                                <td>#{objUsers.fechaNacimiento}</td>
                                                <td>#{objUsers.rh}</td>
                                                <td>#{objUsers.nombreAcudiente}</td>
                                                <td>#{objUsers.telefonoAcudiente}</td>
                                                <td>#{objUsers.contrasenia}</td>
                                            <td>

                                                <button type="button" class="btn btn-info" data-toggle="modal" data-target="#exampleModal">
                                                    Modify
                                                </button>

                                            </td>

                                        </tr>
                                    </c:forEach>


                                </tbody>

                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!-- Button trigger modal -->


        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <h:form>
                    <div class="modal-content"  style="background-color: white;">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Modificar Datos</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="mb-3">
                                <label for="exampleInputusuario" class="form-label">Id</label>
                                <h:inputText class="form-control" id="exampleInputusuario" value="#{registrousu.objUser.id}"/>

                            </div>
                                    <div class="mb-3">
                                <label for="exampleInputEmail1tipo" class="form-label">Tipo Id</label>
                                <h:inputText class="form-control" id="exampleInputEmail1tipo" value="#{registrousu.objUser.tipoid}"/>

                            </div>
                            <div class="mb-3">
                                <label for="exampleInputEmail1" class="form-label">Nombre</label>
                                <h:inputText class="form-control" id="exampleInputEmail1" value="#{registrousu.objUser.nombre}"/>

                            </div>
                            <div class="mb-3">
                                <label for="exampleInputPassword1" class="form-label">Apellidos</label>
                                <h:inputText class="form-control" id="exampleInputPassword1" value="#{registrousu.objUser.apellido}"/>
                            </div>
                            <div class="mb-3">
                                <label for="exampleInputPasswordEdad" class="form-label">Edad</label>
                                <h:inputText class="form-control" id="exampleInputEdad" value="#{registrousu.objUser.edad}" />
                            </div>
                            <div class="mb-3">
                                <label for="exampleInputDireccion" class="form-label">Telefono</label>
                                <h:inputText class="form-control" id="exampleInputDireccion" value="#{registrousu.objUser.telefono}" />
                            </div>
                                    <div class="mb-3">
                                <label for="exampleInputEmail1correo" class="form-label">Correo</label>
                                <h:inputText class="form-control" id="exampleInputEmail1correo" value="#{registrousu.objUser.nombre}"/>

                            </div>
                            <div class="mb-3">
                                <label for="exampleInputGenero" class="form-label">Eps</label>
                                <h:inputText class="form-control" id="exampleInputGenero" value="#{registrousu.objUser.eps}" />
                            </div>
                            <div class="mb-3">
                                <label for="exampleInputRol" class="form-label">Fecha nacimiento</label>
                                <h:inputText class="form-control" id="exampleInputRol" value="#{registrousu.objUser.fechaNacimiento}" />
                            </div>
                            <div class="mb-3">
                                <label for="exampleInputtelefono" class="form-label">Rh</label>
                                <h:inputText class="form-control" id="exampleInputtelefono" value="#{registrousu.objUser.rh}" />
                            </div>
                            <div class="mb-3">
                                <label for="exampleInputacu" class="form-label">Nombre acudiente</label>
                                <h:inputSecret class="form-control" id="exampleInputacu" value="#{registrousu.objUser.nombreAcudiente}" />
                            </div>

                            <div class="mb-3">
                                <label for="exampleInputsalario" class="form-label">Telefono Acudiente</label>
                                <h:inputText class="form-control" id="exampleInputsalario" value="#{registrousu.objUser.telefonoAcudiente}" />
                            </div>
                                    <div class="mb-3">
                                <label for="exampleInputEmail1contra" class="form-label">Contraseña</label>
                                <h:inputText class="form-control" id="exampleInputEmail1contra" value="#{registrousu.objUser.nombre}"/>

                            </div>

  

                           
                        </div>
                        <div class="modal-footer"> 
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <h:commandButton action="#{registrousu.actualizar()}" class="btn btn-info" value="Manage Clients"></h:commandButton>
                        </div>
                    </div>
                </h:form>
            </div>

        </div>





    </ui:composition>

</html>

